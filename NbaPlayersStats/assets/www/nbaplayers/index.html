<!DOCTYPE html> 
<html> 
	<head> 
	<title>NBA Players Stats</title> 
	
        <meta name="viewport" content="width=device-width, initial-scale=1">
	
        <link rel="stylesheet" href="jquery.mobile-1.3.0.css" />
        <link rel="stylesheet" href="nbaplayers.css" />
        <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
        <script type="text/javascript" charset="utf-8" src="jquery-1.7.1.min.js"></script>
        <script type="text/javascript" charset="utf-8" src="jquery.mobile-1.3.0.js"></script>
        <script type="text/javascript">
        	dojoConfig = {
            	async: true,
            	parseOnLoad: true,
            	packages: [{
                	location: location.pathname.replace(/\/[^/]+$/, "") +"/widgets",
                	name: "nbaplayersstats"
            	}]
        	}
    	</script>
        <script type="text/javascript" charset="utf-8" src="../libs/dojo/dojo.js"></script>
		<script type="text/javascript">
		var playerData;
        	require([
        		'nbaplayersstats/getPlayerData',
            	'dojo/domReady!'
        		], function (GetPlayerData,ready) {
					playerData = new GetPlayerData();
					document.addEventListener("backbutton", playerData.onBackKeyDown, false);
					nameSelect='';
					showTab('tabPlayers');
           			playerData.getData();
     		});	
        
    	</script>
    	
    	<!--
        <script type="text/javascript" charset="utf-8" src="nbaplayers.js"></script>
		-->
    </head>

<body> 

<div data-role="page" id="paginaPrincipal">

	<div data-role="header" data-id="foo1" data-position="fixed">
    	<h3>NBA Players Stats</h3>
    	<div data-role="navbar">
        	<ul>
            	<li><a id="anchortabplayers" onclick="showTab('tabPlayers');">Stats by Player</a></li>
            	<li><a id="anchortabcategories" onclick="showTab('tabCategories');">Top Categories</a></li>
            	<li><a id="anchortabteams" onclick="showTab('tabTeams');">Stats By Team</a></li>
        	</ul>
    	</div>
	</div>

	<div data-role="content">
    	<div class="content-primary">
    
    		<div id="tabPlayers">
                    <form>
                        <div class="ui-body ui-body-b" data-role="fieldcontain">
                            <label for="select-equipo">Select Team:</label>
                            <select name="select-equipo" id="select-equipo" onChange="playerData.actualizaJugadores();">
                                <option></option>
                            </select>
                        </div>
                    </form>
                    
                    <form>
                        <div class="ui-body ui-body-b" data-role="fieldcontain">
                            <label for="select-jugador">Select Player:</label>
                            <select name="select-jugador" id="select-jugador" onChange="playerData.cargarJugador('');">
                                <option></option>
                            </select>
                        </div>
                    </form>
                    
                    <br>
             
                    <div data-demo-html="true">
                        <label for="listview-jugadores">Player Search by Name: </label>
                        <br>
                        <br>
                        <ul id="listview-jugadores" data-role="listview" data-inset="true" data-filter="true" data-filter-reveal="true" data-filter-placeholder="Search Player...">
                        </ul>
                        
                    </div>
                    
                    <br>
                    
                    <div align="center">
                        <a href="#" onclick = 'playerData.cargarJugador("");' data-role="button" data-mini="true" data-inline="true" data-icon="check" data-theme="e">Show Stats</a>
                        <br>
                        <br>		
                      
                    </div>
				
				     <div data-role="popup" id="playerPopup">
           			 </div>
            
            		<div data-role="popup" id="loadingDataPopup" data-theme="b" data-dismissible="false">
            		</div>
  
            		<div id="framePlayer" class=ui-grid-b>
            		</div>	
				
                </div>  <!-- TAB PLAYERS -->

				            
            <div id="tabCategories">
            	<div id="categoriesTabControlGroup" data-role="controlgroup" data-type="horizontal">
  					<input type="radio" id="categoriesTabRegularSeasonButton" name="radioCategories" checked="true" value="regularSeason">
  					<input type="radio" id="categoriesTabPlayoffButton" name="radioCategories" value="playoffs">
  					<label for="categoriesTabRegularSeasonButton">Regular Season</label>
  					<label for="categoriesTabPlayoffButton">Playoff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
				</div>
            	<div id="topCategoriesPlayoff" align="center">TOP CATEGORIES PLAYOFFS<br>
    			<table align="center">
       					<tr>
           					<th>
               					Points
           					</th>
           					<th>
               					Rebounds
           					</th>
       					</tr>
       					<tr>
            				<td>
                				<div id="divCategoryPointsPlayoff">
                				</div>
            				</td>
            				<td>
                				<div id="divCategoryReboundsPlayoff">
                				</div>
            				</td>
       					</tr>
       					<tr>
           					<th>
               					Assists
           					</th>
           					<th>
               					Steals
           					</th>
       					</tr>
       					<tr>
            				<td>
                				<div id="divCategoryAssistsPlayoff">
                				</div>
            				</td>
            				<td>
                				<div id="divCategoryStealsPlayoff">
                				</div>
            				</td>
       					</tr>
       					<tr>
           					<th>
               					Blocks
           					</th>
           					<th>
               					Minutes
           					</th>
       					</tr>
       					<tr>
            				<td>
                				<div id="divCategoryBlocksPlayoff">
                				</div>
            				</td>
            				<td>
                				<div id="divCategoryMinutesPlayoff">
                				</div>
            				</td>
       					</tr>
    				</table>
    			</div>
            	<br>
            	<div id="topCategories" align="center">TOP CATEGORIES REGULAR SEASON<br>
    			<table align="center">
       					<tr>
           					<th>
               					Points
           					</th>
           					<th>
               					Rebounds
           					</th>
       					</tr>
       					<tr>
            				<td>
                				<div id="divCategoryPoints">
                				</div>
            				</td>
            				<td>
                				<div id="divCategoryRebounds">
                				</div>
            				</td>
       					</tr>
       					<tr>
           					<th>
               					Assists
           					</th>
           					<th>
               					Steals
           					</th>
       					</tr>
       					<tr>
            				<td>
                				<div id="divCategoryAssists">
                				</div>
            				</td>
            				<td>
                				<div id="divCategorySteals">
                				</div>
            				</td>
       					</tr>
       					<tr>
           					<th>
               					Blocks
           					</th>
           					<th>
               					Minutes
           					</th>
       					</tr>
       					<tr>
            				<td>
                				<div id="divCategoryBlocks">
                				</div>
            				</td>
            				<td>
                				<div id="divCategoryMinutes">
                				</div>
            				</td>
       					</tr>
    				</table>
            		</div>
            </div>  <!-- TAB CATEGORIES -->
            	

           	<div id="tabTeams">
           	
           			<form>
           			
               			<div class="ui-body ui-body-b" data-role="fieldcontain">
                    		<label for="select-equipo-statsbyteam">Select Team:</label>
                        		<select name="select-equipo-statsbyteam" id="select-equipo-statsbyteam" onChange="playerData.showTeamStats();">
                            		<option></option>
                        		</select>
               			</div>
    				</form>
				
				<div id="teamStatsTabControlGroup" data-role="controlgroup" data-type="horizontal">
  					<input type="radio" id="teamStatsTabRegularSeasonButton" name="radioTeamStats" value="regularSeason" checked="true"></input>
  					<input type="radio" id="teamStatsTabPlayoffButton" name="radioTeamStats" value="playoffs"></input>
  					<label for="teamStatsTabRegularSeasonButton">Regular Season</label>
  					<label for="teamStatsTabPlayoffButton">Playoff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
				</div>
    				
    			<div id="divTeamPlayoffStats" align="center">
    			</div>    			
    			<br>	
    			<div id="divTeamStats" align="center">
    			</div>
    			
           	</div>  <!-- TAB TEAMS -->
      
            
            </div>

		</div>
		
</div>

		<script>
			
			function showTab(tab) {
				if (tab == 'tabPlayers') {
					document.getElementById('tabPlayers').style.display = 'block'; 
					document.getElementById('tabCategories').style.display = 'none';
					document.getElementById('tabTeams').style.display = 'none';
					playerData.cargarListaEquipos();
					
				}
				else if (tab == 'tabCategories') {
					document.getElementById('tabPlayers').style.display = 'none'; 
					document.getElementById('tabCategories').style.display = 'block';
					document.getElementById('tabTeams').style.display = 'none';
					playerData.showCategoryLeaders();
				}
				else if (tab == 'tabTeams') {
					var divTeamStats = $('#divTeamStats');
    				divTeamStats.empty();
					nameSelect='select-equipo-statsbyteam';
        			playerData.cargarListaEquipos();
					document.getElementById('tabPlayers').style.display = 'none'; 
					document.getElementById('tabCategories').style.display = 'none';
					document.getElementById('tabTeams').style.display = 'block';
				}
			}
			/*
				$(document).ready(function(){
				showTab('tabPlayers');
			});
			*/

		</script>
		
		


</body>
</html>
